<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swim Pulse Performance</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0a1d37">
    <link rel="icon" href="icon-192.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --bg:#f8fafc; --card:#ffffff; --text:#1e293b; --primary:#0a1d37; --accent:#00d4ff; --gold:#fbbf24; }
        .dark { --bg:#0f172a; --card:#1e293b; --text:#e2e8f0; --primary:#00d4ff; }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Inter',sans-serif; background:var(--bg); color:var(--text); transition:0.4s; min-height:100vh; padding-bottom:90px; }
        .topbar { background:var(--card); padding:12px 16px; box-shadow:0 4px 20px rgba(0,0,0,0.1); position:sticky; top:0; z-index:1000; display:flex; align-items:center; gap:12px; }
        .profile-img { width:44px; height:44px; border-radius:50%; background:var(--primary); color:white; display:grid; place-items:center; font-weight:800; font-size:1.3em; }
        .search { flex:1; background:rgba(0,0,0,0.05); border-radius:30px; padding:12px 18px; display:flex; align-items:center; gap:10px; }
        .search input { border:none; background:none; outline:none; width:100%; font-size:1em; color:var(--text); }
        .icon-btn { width:46px; height:46px; border-radius:50%; background:var(--primary); color:white; display:grid; place-items:center; font-size:1.3em; }

        .hero { background:linear-gradient(135deg, #0a1d37, #1e40af); color:white; padding:40px 20px; text-align:center; border-bottom:6px solid var(--accent); }
        .hero h1 { font-size:2.2em; font-weight:800; margin-bottom:8px; }
        .hero p { opacity:0.9; font-size:1.1em; }

        .grid { padding:20px; display:grid; gap:18px; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); }
        .card { background:var(--card); border-radius:20px; padding:24px; box-shadow:0 10px 30px rgba(0,0,0,0.1); transition:0.3s; border-left:5px solid var(--accent); }
        .card h3 { font-size:1.3em; margin-bottom:12px; color:var(--primary); font-weight:700; }
        .today-workout { background:linear-gradient(135deg, var(--primary), var(--accent)); color:white; }
        .today-workout h3 { color:white; }

        canvas { border-radius:12px; margin-top:15px; }

        .bottom-nav { position:fixed; bottom:0; left:0; right:0; background:var(--card); display:flex; box-shadow:0 -4px 20px rgba(0,0,0,0.15); padding:8px 0; }
        .nav-item { flex:1; text-align:center; padding:10px; color:#64748b; font-weight:600; }
        .nav-item.active { color:var(--primary); }
        .nav-item i { font-size:1.5em; display:block; margin-bottom:4px; }

        .dark-toggle { position:fixed; top:20px; right:20px; z-index:9999; background:var(--primary); color:white; width:50px; height:50px; border-radius:50%; display:grid; place-items:center; font-size:1.5em; box-shadow:0 4px 15px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

    <!-- Dark Mode Toggle -->
    <div class="dark-toggle" onclick="document.body.classList.toggle('dark')">
        <i class="fas fa-moon"></i>
    </div>

    <!-- Top Bar -->
    <div class="topbar">
        <div class="profile-img">S</div>
        <div class="search">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Search workouts, PBs, goals...">
        </div>
        <div class="icon-btn" onclick="requestNotificationPermission()">
            <i class="fas fa-bell"></i>
        </div>
    </div>

    <!-- Hero -->
    <div class="hero">
        <h1>Swim Pulse Performance</h1>
        <p>Elite Training System • Coach-Powered • Results-Driven</

    <!-- Main Grid -->
    <div class="grid">
        <!-- Today's Workout -->
        <div class="card today-workout">
            <h3>Today's Main Set</h3>
            <p style="font-size:1.4em; font-weight:800;">10 × 100 @ 1:25<br>descending 1-4 → hold</p>
            <p style="margin-top:15px; opacity:0.9;">Focus: Threshold pace</p>
        </div>

        <!-- Progress Chart -->
        <div class="card">
            <h3>100m Freestyle Progress</h3>
            <canvas id="pbChart"></canvas>
        </div>

        <!-- Personal Bests -->
        <div class="card">
            <h3>Personal Best Times</h3>
            <p><strong>50 Free:</strong> 25.3</p>
            <p><strong>100 Free:</strong> 55.7 <span style="color:var(--gold);">★ New PB!</span></p>
            <p><strong>200 Free:</strong> 2:02.1</p>
            <p><strong>100 Fly:</strong> 1:01.9</p>
        </div>

        <!-- Next Assessment -->
        <div class="card">
            <h3>Next Assessment</h3>
            <p style="font-size:1.6em; font-weight:700;">Dec 20 – T-30 Test</p>
            <p>400 IM + 30min continuous swim</p>
        </div>

        <!-- Active Goal -->
        <div class="card">
            <h3>Current Goal</h3>
            <p style="font-size:1.1em; font-weight:600;">Qualify for Nationals<br>100 Free under 54.0 by March</p>
            <div style="background:#e0f2fe; padding:12px; border-radius:12px; margin-top:10px;">
                <strong>Progress: 55.7 → 54.0</strong><br>
                <div style="background:#ccc; height:10px; border-radius:5px; overflow:hidden; margin-top:8px;">
                    <div style="width:68%; background:var(--accent); height:100%;"></div>
                </div>
            </div>
        </div>

        <!-- Stroke Note -->
        <div class="card">
            <h3>Latest Stroke Feedback</h3>
            <p><strong>Freestyle catch:</strong> Excellent high elbow!</p>
            <p><strong>Turn work:</strong> Push off deeper → faster breakouts</p>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active"><i class="fas fa-home"></i>Home</div>
        <div class="nav-item"><i class="fas fa-dumbbell"></i>Workouts</div>
        <div class="nav-item"><i class="fas fa-bullseye"></i>Goals</div>
        <div class="nav-item"><i class="fas fa-chart-line"></i>Progress</div>
        <div class="nav-item"><i class="fas fa-video"></i>Stroke</div>
    </div>

    <script>
        // Progress Chart
        new Chart(document.getElementById('pbChart'), {
            type: 'line',
            data: {
                labels: ['Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: '100m Free',
                    data: [60.2, 58.9, 57.4, 55.7, 54.8],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0,212,255,0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: { plugins: { legend: { display: false } }, scales: { y: { reverse: true } } }
        });

        // Push Notifications
        function requestNotificationPermission() {
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission().then(perm => {
                    if (perm === 'granted') {
                        new Notification("Swim Pulse", {
                            body: "Notifications enabled! You'll get workout reminders.",
                            icon: "icon-192.png"
                        });
                    }
                });
            }
        }

        // PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
